<html>
    <head><title> Live Agent Chat</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    </head>
    <body>
        <div id="chat-icon">
                <input type="button" value="Submit" onClick="startChat();">  


            <!-- <input type="hidden" name="liveagent.prechat:Case ID" id="caseID" />
            <input type="hidden" name="liveagent.prechat.findorcreate.map:Contact" value="Id,Contact ID" />
            <input type="hidden" name="liveagent.prechat.findorcreate.map.doFind:Contact" value="Id,true" />
            <input type="hidden" name="liveagent.prechat.findorcreate.map.isExactMatch:Contact" value="Id,true" /> -->
        </div>
        <!-- Generated when creating SFDC deployment -->
        <script type='text/javascript' src='https://c.la2-c2-ord.salesforceliveagent.com/content/g/js/43.0/deployment.js'></script>
        
        <script type="text/javascript">

            function setName() {
                 document.getElementById("prechat_field").value = "Hellloooo";
                 return true;
            }
            function startChat(){
                console.log('startChat hit')
                // Generated when creating SFDC live agent
                liveagent.init('https://d.la2-c2-ord.salesforceliveagent.com/chat', '5721H000000Hbdw', '00D1H000000NMSx');
                if (!window._laq) { window._laq = []; }
                window._laq.push(function(){
                    liveagent.enableLogging();
                    liveagent.setChatWindowHeight('720');
                    liveagent.showWhenOnline('5731H000000HcZV', document.getElementById('liveagent_button_online_5731H000000HcZV'));
                    liveagent.showWhenOffline('5731H000000HcZV', document.getElementById('liveagent_button_offline_5731H000000HcZV'));
                  
                    liveagent.addCustomDetail('First Name', document.getElementById('SuppliedName').value);
                    // liveagent.addCustomDetail('Last Name', document.getElementById('lastName').value);
                    liveagent.addCustomDetail('Email', document.getElementById('SuppliedEmail').value);

                    liveagent.addButtonEventHandler('5731H000000HcZV',function (e){
                    if(e == liveagent.BUTTON_EVENT.BUTTON_AVAILABLE){              
                            liveagent.startChat('5731H000000HcZV');
                        }       
                    });
                });

            }
        </script>
    </body>
</html>